<ion-header>

  <ion-navbar>
    <ion-title>{{isnewEvent? 'Create New' : 'Edit'}} Event</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="showConfirm()" color="danger">
        <ion-icon item-left name="trash"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <div class="container" (click)="setEventPicture()">
    <ion-avatar>
      <img [src]="imageURL" style="display:block; margin:auto;" [ngClass]="{'opaqueImage': isDefaultImage, 'nonOpaqueImage': !isDefaultImage}">

    </ion-avatar>
    <ion-icon *ngIf="isDefaultImage" class="editImage" name="add-circle"></ion-icon>

  </div>
  <br>
  <!-- <img [src]="assets/imgs/calendar.png | async" /> -->
  <form #f="ngForm" (ngSubmit)="onSubmit(f)">
    <ion-list>
      <ion-item>
        <ion-label fixed>Event Name</ion-label>
        <ion-input type="text" name="name" placeholder="Festival of Lights" [ngModel]="event?.name" required>
        </ion-input>
      </ion-item>
      <ion-item>
        <ion-label floating>Short Description</ion-label>
        <ion-textarea name="description" [ngModel]="event?.description"></ion-textarea>
      </ion-item>
      <ion-item>
        <ion-label floating>Location</ion-label>
        <ion-textarea name="location" [ngModel]="event?.location" required></ion-textarea>
      </ion-item>
      <ion-item>
        <ion-label>Category</ion-label>
        <ion-select [ngModel]="event?.category" name="category" required>
          <ion-option value="ceremony">Ceremony</ion-option>
          <ion-option value="education">Education</ion-option>
          <ion-option value="conference">Conference</ion-option>
          <ion-option value="meeting">Meeting</ion-option>
          <ion-option value="sports">Sports</ion-option>
          <ion-option value="festival">Festival</ion-option>
          <ion-option value="concert">Concert</ion-option>
          <ion-option value="party">Party</ion-option>
          <ion-option value="other">Other</ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label>Type</ion-label>
        <ion-select [ngModel]="event?.type" name="type" required>
          <ion-option selected value="Public">Public</ion-option>
          <ion-option value="Private">Private</ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label>Recurring?</ion-label>
        <ion-toggle [ngModel]="event?.recurring" name="recurring"></ion-toggle>
      </ion-item>
      <ion-item>
        <ion-label>Date</ion-label>
        <ion-datetime displayFormat="MM/DD/YYYY" [ngModel]="event?.date" name="date"></ion-datetime>
      </ion-item>
      <ion-item>
        <ion-label>Time</ion-label>
        <ion-datetime displayFormat="hh/m/A" [ngModel]="event?.time" name="time"></ion-datetime>
      </ion-item>
      <ion-item>
        <ion-label>Show in Public Search Results</ion-label>
        <ion-toggle [ngModel]="event?.isVisibleInPublicSearch" name="isVisibleInPublicSearch"></ion-toggle>
      </ion-item>
    </ion-list>
    <button ion-button type="submit" block [disabled]="!f.valid">{{isnewEvent? 'Create New Event' : 'Save'}}</button>
  </form>

</ion-content>